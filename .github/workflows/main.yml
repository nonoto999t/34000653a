name: Master Bot

on:
  # รัน workflow นี้เมื่อมีการ push code ไปยัง branch "main"
  push:
    branches:
      - main

jobs:
  switch_rooms:
    runs-on: self-hosted
    steps:
      # ติดตั้ง Python
      - uses: actions/setup-python@v3
        with:
          python-version: '3.9'

      # ดาวน์โหลด dependencies
      - run: pip install requests

      # รันโค้ดสลับห้อง
      - run: python switch_rooms.py
